(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],m=0,d=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0079":function(e,t,s){"use strict";s("4c37")},"08b2":function(e,t,s){e.exports=s.p+"img/icon-left-font-monochrome-black.e0c03c97.svg"},"0ab4":function(e,t,s){},"0c9b":function(e,t,s){e.exports=s.p+"img/icon-above-font.87b91a2b.svg"},1157:function(e,t,s){},"1c36":function(e,t,s){"use strict";s("1157")},"206d":function(e,t,s){"use strict";s("4413")},"21bb":function(e,t,s){"use strict";s("2dad")},2870:function(e,t,s){},"2a7b":function(e,t,s){"use strict";s("9f42")},"2dad":function(e,t,s){},"2ec1":function(e,t,s){"use strict";s("ad0b")},"38e7":function(e,t,s){},"3f13":function(e,t,s){},"423c":function(e,t,s){},4413:function(e,t,s){},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="4678"},"4c37":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o=(s("5c0b"),s("2877")),i={},c=Object(o["a"])(i,a,r,!1,null,null,null),u=c.exports,l=s("ecee"),m=s("c1df"),d=s.n(m),p=s("c074"),f=s("ad3d"),v=s("1dce"),b=s.n(v),h=s("8c4f"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("Menu"),s("div",{staticClass:"main"},[s("MenuLateral",{staticClass:"menuLateral"}),s("div",{staticClass:"publication"},[s("CreatePost",{staticClass:"bloc-post"}),e.posts[0]?s("div",{staticClass:"if-post"},e._l(e.posts,(function(t){return s("div",{key:t.id,attrs:{post:t}},[s("Post",{staticClass:"bloc-post post",attrs:{post:t,user:e.user}})],1)})),0):s("div",{staticClass:"text-default__post"},[s("p",[e._v("- Aucun Poste Publié Pour Le Moment -")])])],1)],1)],1)},C=[],_=(s("96cf"),s("1da1")),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav"},[n("div",{staticClass:"bloc-top-part"},[n("img",{staticClass:"imgLogoBlack",attrs:{id:"imgLogoBlack",src:s("08b2"),alt:"logo en noir et blanc de Groupomania"}}),n("div",{staticClass:"search"},[n("font-awesome-icon",{staticClass:"icon-search",attrs:{icon:"search"}}),n("input",{staticClass:"searchBarre",attrs:{"aria-label":"Faire une recherche",type:"text"}})],1)]),n("ul",[n("li",[n("a",{attrs:{href:"","aria-label":"Aller vers page d'accueil",title:"Accueil"}},[n("router-link",{attrs:{to:{name:"Home",params:{userId:e.userId}}}},[n("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"home"}})],1)],1)]),n("li",[n("a",{attrs:{href:"#","aria-label":"Lien vers page du profile",title:"Profile utilisateur"}},[n("router-link",{attrs:{to:{name:"Profile",params:{userId:e.userId}}}},[n("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"user-circle"}})],1)],1)]),n("li",[n("a",{attrs:{href:"","aria-label":"Notifications",title:"Notification"}},[n("router-link",{staticClass:"link",attrs:{to:{name:"Notifications",params:{userId:e.userId}}}},[n("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"bell"}})],1)],1)]),n("li",[n("a",{attrs:{href:"","aria-label":"Newpaper",title:"Newpaper"}},[n("router-link",{staticClass:"link",attrs:{to:{name:"Newsletter"}}},[n("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"newspaper"}})],1)],1)]),n("li",[n("a",{attrs:{href:"","aria-label":"Déconnexion",title:"déconnexion"}},[n("router-link",{attrs:{to:{name:"LogIn"}},nativeOn:{click:function(t){return e.logout(t)}}},[n("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"sign-out-alt"}})],1)],1)])])])},w=[],k={name:"Menu",data:function(){return{userId:localStorage.getItem("userID")}},methods:{logout:function(){localStorage.clear()}}},P=k,I=(s("bb78"),Object(o["a"])(P,j,w,!1,null,null,null)),y=I.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menuLateral"},[s("button",{staticClass:"btnModalPost",attrs:{title:"Publier Poste"},on:{click:e.openModal}},[s("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"pencil-alt"}})],1),s("div",{attrs:{id:"modal"}},[s("CreatePost",{staticClass:"modal-content"}),s("button",{staticClass:"btnCloseModalPost",on:{click:e.closeModal}},[e._v("X Fermer")])],1)])},L=[],O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"createPost"},[s("div",{staticClass:"blocImg"},[e.user[0].imageURL?s("img",{staticClass:"user-image",attrs:{src:e.user[0].imageURL,alt:"icon du profile"}}):e._e()]),s("div",{staticClass:"bloc-create"},[s("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.onSubmitPost(t)}}},[s("div",{staticClass:"contenu"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.postData.contenu,expression:"postData.contenu"}],attrs:{rows:"5",cols:"50",placeholder:"Text..."},domProps:{value:e.postData.contenu},on:{input:function(t){t.target.composing||e.$set(e.postData,"contenu",t.target.value)}}})]),s("div",{attrs:{id:"previewFile"}},[e.showImage?s("img",{staticClass:"image-preview",attrs:{id:"imagePreview",src:"",alt:"pré-visualisation du fichier"}}):e._e()]),s("div",{staticClass:"footer"},[s("button",{staticClass:"btn-file",attrs:{"aria-label":"Intégrer un fichier",type:"button"},on:{click:e.chooseFile}},[s("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"images"}})],1),s("input",{ref:"file",staticClass:"inputFile",attrs:{type:"file",name:"multimedia"},on:{change:e.onSelectFile}}),e._m(0)])])])])},$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btnPublier"},[s("button",{attrs:{type:"submit"}},[e._v("Publier")])])}],S={nom:"CreatePost",beforeCreate:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUser",e.$route.params.userId);case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{postData:{date_publication:"",contenu:"",fileURL:null},showImage:!1}},computed:{user:function(){return this.$store.state.user}},methods:{onSelectFile:function(e){this.postData.fileURL=e.target.files[0];var t=e.target.files[0];if(t){var s=new FileReader;s.addEventListener("load",(function(){var e=document.getElementById("imagePreview");e.setAttribute("src",this.result)})),s.readAsDataURL(t),this.showImage=!0}else this.showImage=!1},chooseFile:function(){this.$refs.file.click()},onSubmitPost:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=localStorage.getItem("userID"),e.postData.contenu||e.postData.fileURL?(n=new FormData,n.append("contenu",e.postData.contenu),n.append("userId",s),n.append("multimedia",e.postData.fileURL),n&&e.$store.dispatch("createPosts",n),e.$emit("close-modal"),e.postData.contenu="",e.postData.fileURL="",a=document.getElementById("imagePreview"),a.setAttribute("src",""),e.showImage=!1):alert("Veuillez rentrer des informations avant de publier un poste");case 2:case"end":return t.stop()}}),t)})))()}}},E=S,R=(s("f743"),Object(o["a"])(E,O,$,!1,null,null,null)),D=R.exports,U={nom:"MenuLateral",components:{CreatePost:D},data:function(){return{userId:localStorage.getItem("userID")}},methods:{openModal:function(){var e=document.getElementById("modal");e.style.display="block"},closeModal:function(){var e=document.getElementById("modal");e.style.display="none"}}},A=U,N=(s("5e1b"),Object(o["a"])(A,x,L,!1,null,null,null)),M=N.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"postBloc"},[s("div",{staticClass:"post-header"},[s("div",{staticClass:"header-left"},[s("img",{staticClass:"user-image",attrs:{src:e.post.imageURL,alt:"photo de profile"}}),s("p",[e._v(e._s(e.post.username))]),s("p",{staticClass:"publishedDate"},[e._v(e._s(e.moment(e.post.date_publication).fromNow()))])]),s("BtnEdit",{attrs:{post:e.post,isAdmin:"admin"==e.userStatus,isUser:e.userID==e.post.id_user}})],1),s("div",{staticClass:"post-content"},[e._v(" "+e._s(e.post.contenu)+" "),s("br"),e.post.fileURL?s("img",{staticClass:"imgContenu",attrs:{src:e.post.fileURL,alt:"image envoyé par l'utilisateur"}}):e._e()]),s("div",{staticClass:"post-footer"},[s("span",{staticClass:"icon-comment"},[s("font-awesome-icon",{attrs:{icon:["fas","comment-dots"]},on:{click:function(t){return e.displayComments(e.post)}}})],1),s("span",{staticClass:"icon-heart",class:[e.isLiked?"changeColor":""],on:{click:function(t){return e.onLikePost()}}},[s("font-awesome-icon",{attrs:{icon:"heart"}}),e.post.likes?s("p",[e._v(e._s(e.post.likes))]):e._e()],1)]),this.commentsAreVisible?s("CommentsList",{attrs:{post:e.post.id,user:e.user}}):e._e()],1)},T=[],B=s("bc3a"),F=s.n(B);localStorage.getItem("userToken")?F.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("userToken"):delete F.a.defaults.headers.common["Authorization"];var q=function(){return F.a.create({baseURL:"https://groupomania-app-ca.herokuapp.com/",headers:{Accept:"application/json","Content-Type":"application/json"}})},V={getAllPosts:function(e){return q().get("posts",e)},getOnePost:function(e){return q().get("posts/:id",e)},createOnePost:function(e){return q().post("posts",e)},deleteOnePost:function(e){return q().delete("posts/:id",{data:{id_post:e}})},getUserPosts:function(e){return q().get("auth/"+e+"/posts")},likePost:function(e,t){return q().put("posts/"+e+"/likes",t)},dislikePost:function(e,t){return q().put("posts/"+e+"/dislikes",t)},likesStatusInfo:function(e,t){return q().post("posts/"+e+"/likes",t)}},G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.comments,(function(t){return s("div",{key:t.id},[s("Comment",{attrs:{comment:t,post:e.post},on:{"delete-comment":e.pullCommentFromComments}})],1)})),e.count>1&&!e.allCommentsDisplayed?s("button",{on:{click:function(t){return e.getAllComments(e.post)}}},[e.count>1?s("span",[e._v("Afficher "+e._s(e.count-1)+" autres commentaires")]):s("span",[e._v("Afficher "+e._s(e.count-1)+" autre commentaire")])]):e._e(),s("CreateComments",{attrs:{user:e.user,post:e.post},on:{"comment-created":e.pushNewCommentInComments}})],2)},J=[],H=(s("4de4"),{getAllComments:function(e){return q().get("posts/"+e+"/comments")},getOneOfAllComments:function(e){return q().get("posts/"+e+"/comments?limit=1")},createComment:function(e,t){return q().post("posts/"+e+"/comments",t)},deleteComment:function(e,t){return q().delete("posts/"+e+"/comments/"+t)}}),X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bloc-createComment"},[s("div",{staticClass:"bloc-user"},[s("router-link",{attrs:{to:{name:"Profile"}}},[s("img",{staticClass:"user-image",attrs:{src:e.user[0].imageURL,alt:"photo de profile"}})])],1),s("form",{on:{submit:function(t){return t.preventDefault(),e.onCreateComment(e.post)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"comment-area border-0",attrs:{id:"comment-area-"+e.post.id,placeholder:"Écrivez un commentaire ","aria-label":"Écrire un commentaire"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),s("div",{attrs:{id:"previewFile-comment"}},[e.showImage?s("img",{attrs:{id:"imagePreview",src:"",alt:"pré-visualisation du fichier"}}):e._e()]),s("div",{staticClass:"footer-comment"},[s("button",{staticClass:"btn-file",attrs:{"aria-label":"Intégrer un fichier",type:"button"},on:{click:e.chooseFile}},[s("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"images"}})],1),s("input",{ref:"file",staticClass:"inputFile",attrs:{type:"file",name:"multimedia"},on:{change:e.onSelectFile}}),e._m(0)])])])},K=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btnPublier"},[s("button",{attrs:{type:"submit"}},[e._v("Envoyer")])])}],Q={name:"CreateComment",props:["post","user"],data:function(){return{content:"",fileURL:"",showImage:!1}},methods:{chooseFile:function(){this.$refs.file.click()},onSelectFile:function(e){this.fileURL=e.target.files[0];var t=e.target.files[0];if(t){var s=new FileReader;s.addEventListener("load",(function(){var e=document.getElementById("imagePreview");e.setAttribute("src",this.result)})),s.readAsDataURL(t),this.showImage=!0}else this.showImage=!1},onCreateComment:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function s(){var n,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.content||t.fileURL?(n=new FormData,a=localStorage.getItem("userID"),n.append("contenu",t.content),n.append("userId",a),n.append("multimedia",t.fileURL),H.createComment(e,n).then((function(e){var s=JSON.stringify(e);e=JSON.parse(s),t.$emit("comment-created",e.data[0]),t.content="",t.fileURL="";var n=document.getElementById("imagePreview");n.setAttribute("src",""),t.showImage=!1}))):alert("Veuillez rentrer des informations avant de publier un commentaire");case 1:case"end":return s.stop()}}),s)})))()}}},W=Q,Y=(s("9d2c"),Object(o["a"])(W,X,K,!1,null,null,null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment"},[s("div",{staticClass:"bloc-comment"},[s("div",{staticClass:"profile"},[s("img",{staticClass:"user-image",attrs:{src:e.comment.imageURL,alt:"photo de profile"}}),s("p",[e._v(e._s(e.comment.user_name))])]),s("div",{staticClass:"comment-block"},[s("div",{staticClass:"content"},[s("p",[e._v(e._s(e.comment.contenu))]),e.comment.fileURL?s("div",{staticClass:"fileURL"},[s("img",{staticClass:"fileContenu",attrs:{src:e.comment.fileURL,alt:"image envoyé par l'utilisateur"}})]):e._e()]),"admin"==e.userStatus||e.userID==e.comment.comments_user?s("span",{staticClass:"deleteOption",on:{click:function(t){return e.deleteComment(e.post,e.comment.comments_id)}}},[s("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"trash-alt"}})],1):e._e()])])])},te=[],se={name:"Comment",props:["post","comment"],data:function(){return{userData:JSON.parse(localStorage.getItem("userData")),userStatus:localStorage.getItem("userStatus"),userID:localStorage.getItem("userID")}},methods:{deleteComment:function(e,t){var s=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,H.deleteComment(e,t);case 2:s.$emit("delete-comment",t);case 3:case"end":return n.stop()}}),n)})))()}}},ne=se,ae=(s("2a7b"),Object(o["a"])(ne,ee,te,!1,null,null,null)),re=ae.exports,oe={name:"CommentsList",components:{CreateComments:Z,Comment:re},props:["post","user"],created:function(){this.getOneOfAllComments(this.post)},data:function(){return{postIncommentsList:this.post,allCommentsDisplayed:!1,comments:[],count:0}},methods:{getOneOfAllComments:function(e){var t=this,s=H.getOneOfAllComments(e);s.then((function(e){t.comments=e.data[0],t.count=e.data[1][0].count}))},getAllComments:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:H.getAllComments(e).then((function(e){t.comments=e.data})),t.allCommentsDisplayed=!0;case 2:case"end":return s.stop()}}),s)})))()},pushNewCommentInComments:function(e){this.comments.push(e)},pullCommentFromComments:function(e){this.comments=this.comments.filter((function(t){return t.comments_id!==e}))}}},ie=oe,ce=Object(o["a"])(ie,G,J,!1,null,null,null),ue=ce.exports,le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"BtnEdit"},[s("div",{staticClass:"dots-bloc"},[e.isAdmin||e.isUser?s("span",{staticClass:"icon-dots",on:{click:e.toggleVisible}},[s("font-awesome-icon",{attrs:{icon:["fas","ellipsis-h"]}})],1):e._e()]),s("div",{staticClass:"display-option-position"},[e.isVisible?s("DisplayOption",{on:{"delete-post":function(t){return e.deletePost(e.post.id)}}}):e._e()],1)])},me=[],de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"displayOption"},[s("div",{staticClass:"deleteOption",on:{click:e.deletePost}},[s("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"trash-alt"}}),s("p",[e._v("Supprimer")])],1),s("div",{staticClass:"modifyOption"},[s("font-awesome-icon",{staticClass:"icon-exchange",attrs:{icon:"exchange-alt"}}),s("p",[e._v("Modifier")])],1)])},pe=[],fe={name:"DisplayOption",props:["post"],methods:{deletePost:function(){this.$emit("delete-post")}}},ve=fe,be=(s("df96"),Object(o["a"])(ve,de,pe,!1,null,"5aa25315",null)),he=be.exports,ge={nom:"BtnEdit",components:{DisplayOption:he},props:["post","isAdmin","isUser"],data:function(){return{isVisible:!1}},methods:{toggleVisible:function(){1==this.isVisible?this.isVisible=!1:this.isVisible=!0},deletePost:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$store.dispatch("deletePost",e);case 1:case"end":return s.stop()}}),s)})))()}}},Ce=ge,_e=(s("2ec1"),Object(o["a"])(Ce,le,me,!1,null,null,null)),je=_e.exports,we={components:{CommentsList:ue,BtnEdit:je},props:["post","user"],data:function(){return{userStatus:localStorage.getItem("userStatus"),userID:localStorage.getItem("userID"),commentsAreVisible:!1,isLiked:!1}},created:function(){this.LikeStatus(this.post)},methods:{displayComments:function(){1==this.commentsAreVisible?this.commentsAreVisible=!1:this.commentsAreVisible=!0},LikeStatus:function(e){var t=this,s={id_user:this.userID},n=V.likesStatusInfo(e.id,s);n.then((function(e){e.data&&e.data.length>0&&(t.isLiked=!0)}))},onLikePost:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var s,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=JSON.parse(localStorage.getItem("userID")),e.isLiked){t.next=17;break}if(NaN!==e.post.likes){t.next=10;break}return e.post.likes=1,e.post.isLiked=!0,n={likes:e.post.likes,id_user:s},t.next=8,V.likePost(e.post.id,n);case 8:t.next=15;break;case 10:return e.post.likes+=1,e.isLiked=!0,a={likes:e.post.likes,id_user:s},t.next=15,V.likePost(e.post.id,a);case 15:t.next=22;break;case 17:return e.post.likes-=1,r={likes:e.post.likes,id_user:s},t.next=21,V.dislikePost(e.post.id,r);case 21:e.isLiked=!1;case 22:case"end":return t.stop()}}),t)})))()}}},ke=we,Pe=(s("992c"),Object(o["a"])(ke,z,T,!1,null,null,null)),Ie=Pe.exports,ye={name:"Home",components:{Menu:y,MenuLateral:M,CreatePost:D,Post:Ie},beforeCreate:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadPosts");case 2:return t.next=4,e.$store.dispatch("loadUser",e.$route.params.userId);case 4:case"end":return t.stop()}}),t)})))()},computed:{posts:function(){return this.$store.state.posts},user:function(){return this.$store.state.user}},data:function(){return{userId:this.$route.params.userId}}},xe=ye,Le=(s("21bb"),Object(o["a"])(xe,g,C,!1,null,null,null)),Oe=Le.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profil"},[s("Menu"),s("main",[s("MenuLateral",{staticClass:"menuLateral"}),s("div",{staticClass:"blocProfil"},[s("DisplayProfil",{attrs:{user:e.user}}),e._l(e.posts,(function(t){return s("div",{key:t.id,staticClass:"loop"},[s("UserPosts",{staticClass:"userPosts",attrs:{post:t,user:e.user}})],1)}))],2)],1)],1)},Se=[],Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"userData"},[s("div",{staticClass:"profileImage"},[s("button",{staticClass:"btnModalProfile",on:{click:e.openUpdateProfile}},[e.user[0].imageURL?s("img",{attrs:{src:e.user[0].imageURL,alt:"image du profil"}}):e._e()])]),s("div",{staticClass:"profileInfo"},[s("p",[e._v("email : "+e._s(e.user[0].email))]),s("p",[e._v("Poste: "+e._s(e.user[0].poste))]),s("p",[e._v("Description: "+e._s(e.user[0].description))]),s("p",[e._v("Nom d'utilisateur: "+e._s(e.user[0].username))])]),s("div",{attrs:{id:"updateProfile"}},[s("UpdatePofile",{staticClass:"updateProfile-content",attrs:{user:e.user},on:{"close-modal":e.closeModal}})],1),s("div",{staticClass:"deleteUser"},[s("button",{attrs:{"aria-label":"Supprimer utilisateur",title:"Supprimer l'utilisateur"},on:{click:function(t){return e.deleteUser(e.user[0].id)}}},[s("font-awesome-icon",{staticClass:"icon fa-lg",attrs:{icon:"user-minus"}})],1)])])},Re=[],De={signup:function(e){return q().post("auth/signup",e)},login:function(e){return q().post("auth/login",e)},modifyUser:function(e,t){return q().put("auth/"+e,t)},getOneUser:function(e){return q().get("auth/"+e)},deleteUser:function(e){return q().delete("auth/"+e)}},Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"updateProfile"},[s("form",{attrs:{id:"formUpdateProfile"},on:{submit:function(t){return t.preventDefault(),e.onSubmitProfile(t)}}},[s("label",{attrs:{for:"username"}},[e._v("Nom d'utilisateur")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user[0].username,expression:"user[0].username"}],attrs:{type:"text",name:"username"},domProps:{value:e.user[0].username},on:{click:e.updateValue,input:function(t){t.target.composing||e.$set(e.user[0],"username",t.target.value)}}}),s("label",{attrs:{for:"poste"}},[e._v("Poste occupé")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user[0].poste,expression:"user[0].poste"}],attrs:{type:"text",name:"Poste"},domProps:{value:e.user[0].poste},on:{click:e.updateValue,input:function(t){t.target.composing||e.$set(e.user[0],"poste",t.target.value)}}}),s("label",{attrs:{for:"description"}},[e._v("Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user[0].description,expression:"user[0].description"}],attrs:{type:"text",name:"description"},domProps:{value:e.user[0].description},on:{click:e.updateValue,input:function(t){t.target.composing||e.$set(e.user[0],"description",t.target.value)}}}),s("label",{attrs:{for:"imageProfile"}},[e._v("Choisir une image de profile")]),s("input",{attrs:{type:"file",name:"multimedia"},on:{change:e.onSelectImage}}),s("button",{attrs:{type:"submit"}},[e._v("Editer")])])])},Ae=[],Ne=(s("a4d3"),s("e01a"),{name:"updateProfile",props:["user"],methods:{updateValue:function(){this.user[0].username||(this.user[0]=JSON.parse(localStorage.getItem("userData")))},onSelectImage:function(e){this.user[0].imageURL=e.target.files[0]},onSubmitProfile:function(){var e=new FormData;e.append("username",this.user[0].username),e.append("poste",this.user[0].poste),e.append("description",this.user[0].description),e.append("multimedia",this.user[0].imageURL);var t=this.$route.params.userId;this.$store.dispatch("modifyUser",{userId:t,formData:e}),this.$emit("close-modal")}}}),Me=Ne,ze=(s("7525"),Object(o["a"])(Me,Ue,Ae,!1,null,null,null)),Te=ze.exports;window.onclick=function(e){var t=document.getElementById("updateProfile");e.target==t&&(t.style.display="none")};var Be={name:"blocProfil",components:{UpdatePofile:Te},props:["user"],data:function(){return{userData:null}},methods:{openUpdateProfile:function(){var e=document.getElementById("updateProfile");e.style.display="block"},closeModal:function(){var e=document.getElementById("updateProfile");e.style.display="none"},deleteUser:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!confirm("Etes-vous sûre de vouloir supprimer ce compte ?")){s.next=5;break}return s.next=3,De.deleteUser(e);case 3:localStorage.clear(),t.$router.push({name:"LogIn"});case 5:case"end":return s.stop()}}),s)})))()}}},Fe=Be,qe=(s("582d"),Object(o["a"])(Fe,Ee,Re,!1,null,null,null)),Ve=qe.exports,Ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"userPostBloc"},[s("div",{staticClass:"post-header"},[e.user[0].imageURL?s("img",{staticClass:"user-image",attrs:{src:e.user[0].imageURL,alt:"photo de profile"}}):e._e(),s("p",[e._v(e._s(e.post.username))]),s("p",{staticClass:"publishedDate"},[e._v(e._s(e.moment(e.post.date_publication).fromNow()))]),s("BtnEdit",{attrs:{post:e.post,isAdmin:"Admin"==e.userStatus,isUser:e.userID==e.post.id_user}})],1),s("div",{staticClass:"post-content"},[e._v(" "+e._s(e.post.contenu)+" "),s("br"),e.post.fileURL?s("img",{staticClass:"imgContenu",attrs:{src:e.post.fileURL,alt:"image envoyé par l'utilisateur"}}):e._e()]),s("div",{staticClass:"post-footer"},[s("span",{staticClass:"icon-comment"},[s("font-awesome-icon",{attrs:{icon:["fas","comment-dots"]},on:{click:function(t){return e.displayComments()}}})],1),s("span",{staticClass:"icon-heart",class:[e.isLiked?"changeColor":""],on:{click:function(t){return e.onLikePost()}}},[s("font-awesome-icon",{attrs:{icon:"heart"}}),e.post.likes?s("p",[e._v(e._s(e.post.likes))]):e._e()],1)]),this.commentsAreVisible?s("CommentsList",{attrs:{post:e.post.id,user:e.user}}):e._e()],1)},Je=[],He={components:{CommentsList:ue,BtnEdit:je},props:["post","user"],data:function(){return{userStatus:localStorage.getItem("userStatus"),userID:localStorage.getItem("userID"),commentsAreVisible:!1,isLiked:!1}},created:function(){this.LikeStatus(this.post)},methods:{displayComments:function(){1==this.commentsAreVisible?this.commentsAreVisible=!1:this.commentsAreVisible=!0},LikeStatus:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function s(){var n,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n={id_user:t.userID},a=V.likesStatusInfo(e.id,n),a.then((function(e){e.data&&e.data.length>0&&(t.isLiked=!0)}));case 3:case"end":return s.stop()}}),s)})))()},onLikePost:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var s,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=JSON.parse(localStorage.getItem("userID")),e.isLiked){t.next=17;break}if(NaN!==e.post.likes){t.next=10;break}return e.post.likes=1,e.post.isLiked=!0,n={likes:e.post.likes,id_user:s},t.next=8,V.likePost(e.post.id,n);case 8:t.next=15;break;case 10:return e.post.likes+=1,e.isLiked=!0,a={likes:e.post.likes,id_user:s},t.next=15,V.likePost(e.post.id,a);case 15:t.next=22;break;case 17:return e.post.likes-=1,r={likes:e.post.likes,id_user:s},t.next=21,V.dislikePost(e.post.id,r);case 21:e.isLiked=!1;case 22:case"end":return t.stop()}}),t)})))()}}},Xe=He,Ke=(s("dceb"),Object(o["a"])(Xe,Ge,Je,!1,null,null,null)),Qe=Ke.exports,We={nom:"profil",components:{Menu:y,MenuLateral:M,DisplayProfil:Ve,UserPosts:Qe},beforeCreate:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("loadUserPosts",e.$route.params.userId);case 2:case"end":return t.stop()}}),t)})))()},computed:{posts:function(){return this.$store.state.userPosts},user:function(){return this.$store.state.user}}},Ye=We,Ze=(s("66eb"),Object(o["a"])(Ye,$e,Se,!1,null,null,null)),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection"},[n("img",{staticClass:"logo-connexion",attrs:{src:s("0c9b"),alt:"logo Groupomania"}}),n("div",{staticClass:"bloc-connexion"},[n("span",{staticClass:"message-error"},[e._v(e._s(e.messageErreur))]),n("form",{staticClass:"bloc-logIn",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmitLogIn(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.$v.email.$error?n("div",{staticClass:"div"},[e.$v.email.required?e._e():n("p",[e._v("Remplir le champ")]),e.$v.email.email?e._e():n("p",[e._v("Rentrer une addresse email valide")])]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"mot de passe"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.$error?n("div",[e.$v.password.required?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Remplir le champ")]),e.$v.password.minLength&&e.$v.password.maxLength?e._e():n("p",{staticClass:"errorDisplay"},[e._v(" Rentrer votre mot de passe ")])]):e._e(),n("a",{attrs:{href:"#"}},[e._v("Mot de passe oublié ?")]),n("BtnConnection",{staticClass:"btn-connection",attrs:{disabled:e.$v.$invalid,title:"connexion"}})],1),n("router-link",{attrs:{to:{name:"SignUp"}}},[n("BtnConnection",{staticClass:"btn-connection",attrs:{title:"Inscrivez-vous"}})],1)],1)])},st=[],nt=s("b5ae"),at=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btnConnection"},[s("button",{staticClass:"btn-connection",attrs:{type:"submit"}},[e._v(e._s(e.title))])])},rt=[],ot={nom:"BtnConnection",props:["title"]},it=ot,ct=(s("1c36"),Object(o["a"])(it,at,rt,!1,null,"fbeaafde",null)),ut=ct.exports,lt={name:"logIn",components:{BtnConnection:ut},data:function(){return{email:"",password:"",messageErreur:null}},validations:{email:{required:nt["required"],email:nt["email"]},password:{required:nt["required"],minLength:Object(nt["minLength"])(8),maxLength:Object(nt["maxLength"])(50)}},methods:{onSubmitLogIn:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,De.login({email:e.email,password:e.password}).then((function(t){localStorage.setItem("userToken",t.data.token),localStorage.setItem("userID",t.data.userId),localStorage.setItem("userStatus",t.data.status);var s=localStorage.getItem("userID");e.$router.push({name:"Home",params:{userId:s}})})).catch((function(t){e.messageErreur="Adresse e-mail ou mot de passe incorrect."}));case 2:case"end":return t.stop()}}),t)})))()}}},mt=lt,dt=(s("206d"),Object(o["a"])(mt,tt,st,!1,null,null,null)),pt=dt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"connection"},[n("img",{staticClass:"logo-connexion",attrs:{src:s("0c9b"),alt:"logo Groupomania"}}),n("div",{staticClass:"bloc-connexion"},[n("form",{staticClass:"bloc-SignIn",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmitRegisterForm(t)}}},[n("label",{attrs:{for:"email"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"Email"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.$v.email.$error?n("div",[e.$v.email.required?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Entrer un email")]),e.$v.email.email?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Veuillez entrer un format d'email valide")])]):e._e(),n("label",{attrs:{for:"username"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"User"},domProps:{value:e.username},on:{blur:function(t){return e.$v.username.$touch()},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e.$v.username.$error?n("div",[e.$v.username.required?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Entrer un nom d'utilisateur")])]):e._e(),n("label",{attrs:{for:"password"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"mot de passe"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.$error?n("div",[e.$v.password.required?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Entrer un password")]),e.$v.password.minLength?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Rentrer un mot de passe complexe entre 8 et 50 caractères")])]):e._e(),n("label",{attrs:{for:"repeatPassword"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"}],attrs:{id:"repeatPassword",type:"password",placeholder:"Répéter le mot de passe"},domProps:{value:e.repeatPassword},on:{blur:function(t){return e.$v.repeatPassword.$touch()},input:function(t){t.target.composing||(e.repeatPassword=t.target.value)}}}),e.$v.repeatPassword.$error?n("div",[e.$v.repeatPassword.required?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Remplir le champ")]),e.$v.repeatPassword.sameAs?e._e():n("p",{staticClass:"errorDisplay"},[e._v("Mot de passe différente")])]):e._e(),n("BtnConnection",{attrs:{type:"submit",disabled:e.$v.$invalid,title:"Validez"}})],1),n("p",{staticClass:"linkToLogInPage"},[e._v("vous avez déjà un compte ?"),n("router-link",{attrs:{to:"/"}},[n("br"),e._v("Connectez-vous")])],1)])])},vt=[],bt={name:"SignUp",components:{BtnConnection:ut},data:function(){return{email:"",username:"",password:"",repeatPassword:""}},validations:{email:{required:nt["required"],email:nt["email"]},username:{required:nt["required"]},password:{required:nt["required"],minLength:Object(nt["minLength"])(8)},repeatPassword:{required:nt["required"],sameAs:Object(nt["sameAs"])("password")}},methods:{onSubmitRegisterForm:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,De.signup({username:e.username,email:e.email,password:e.password,poste:"",description:"",imageURL:""}).then((function(){e.$router.push({name:"LogIn"})})).catch((function(t){console.log(t),e.messageErreur="Utilisateur déjà existant."}));case 2:case"end":return t.stop()}}),t)})))()}}},ht=bt,gt=(s("0079"),Object(o["a"])(ht,ft,vt,!1,null,null,null)),Ct=gt.exports,_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"notifications"},[s("Menu"),s("main",[s("MenuLateral",{staticClass:"menuLateral"}),e._m(0)],1)],1)},jt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"blocNotification"},[s("h1",[e._v("Notifications")])])}],wt={nom:"Notifications",components:{Menu:y,MenuLateral:M}},kt=wt,Pt=(s("b1f6"),Object(o["a"])(kt,_t,jt,!1,null,null,null)),It=Pt.exports,yt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Newsletter"},[s("Menu"),s("main",[s("MenuLateral",{staticClass:"menuLateral"}),e._m(0)],1)],1)},xt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"blocArticles"},[s("h1",[e._v("Newsletter")])])}],Lt={nom:"Newsletter",components:{Menu:y,MenuLateral:M}},Ot=Lt,$t=(s("ed01"),Object(o["a"])(Ot,yt,xt,!1,null,null,null)),St=$t.exports;n["a"].use(h["a"]);var Et=[{path:"/home/:userId",name:"Home",component:Oe,meta:{requiresAuth:!0}},{path:"/profile/:userId",name:"Profile",component:et,meta:{requiresAuth:!0}},{path:"/",name:"LogIn",component:pt},{path:"/SignUp",name:"SignUp",component:Ct},{path:"/Notifications/:userId",name:"Notifications",component:It,meta:{requiresAuth:!0}},{path:"/Newsletter",name:"Newsletter",component:St,meta:{requiresAuth:!0}}],Rt=new h["a"]({mode:"history",base:"/",routes:Et});Rt.beforeEach((function(e,t,s){e.meta.requiresAuth?localStorage.getItem("userToken")&&localStorage.getItem("userID")?s():s({name:"LogIn"}):s()}));var Dt=Rt,Ut=s("2909"),At=s("2f62");n["a"].use(At["a"]);var Nt=new At["a"].Store({state:{posts:[],userPosts:[],notifications:[],message:"",user:[]},mutations:{GET_ONE_USER:function(e,t){e.user=t},MODIFIED_USER:function(e,t){e.user=[],e.user=t},GET_POSTS:function(e,t){e.posts=t},GET_USER_POSTS:function(e,t){e.userPosts=t},CREATE_POST:function(e,t){e.posts.unshift(t),e.posts=Object(Ut["a"])(e.posts),e.userPosts.unshift(t),e.userPosts=Object(Ut["a"])(e.userPosts)},DELETE_POST:function(e,t){e.posts=e.posts.filter((function(e){return e.id!==t})),e.userPosts=e.userPosts.filter((function(e){return e.id!==t}))}},actions:{loadUser:function(e,t){var s=e.commit;De.getOneUser(t).then((function(e){s("GET_ONE_USER",e.data)})).catch((function(e){throw new Error("API ".concat(e))}))},modifyUser:function(e,t){var s=e.commit;De.modifyUser(t.userId,t.formData).then((function(e){s("MODIFIED_USER",e.data)})).catch((function(e){throw new Error("API ".concat(e))}))},loadPosts:function(e){var t=e.commit;V.getAllPosts().then((function(e){t("GET_POSTS",e.data)})).catch((function(e){throw new Error("API ".concat(e))}))},loadUserPosts:function(e,t){var s=e.commit;V.getUserPosts(t).then((function(e){s("GET_USER_POSTS",e.data)})).catch((function(e){throw new Error("API ".concat(e))}))},createPosts:function(e,t){var s=e.commit;V.createOnePost(t).then((function(e){s("CREATE_POST",e.data[0])})).catch((function(e){throw new Error("API ".concat(e))}))},deletePost:function(e,t){var s=e.commit;console.log(t),V.deleteOnePost(t).then((function(){return s("DELETE_POST",t)})).catch((function(e){console.log({error:e}),s("ERROR_MESSAGE","Problème de connexion")}))}},modules:{}});n["a"].use(b.a),l["c"].add(p["j"],p["f"],p["m"],p["g"],p["e"],p["l"],p["d"],p["b"],p["c"],p["a"],p["h"],p["i"],p["k"],p["n"]),n["a"].component("font-awesome-icon",f["a"]),n["a"].prototype.moment=d.a,n["a"].config.productionTip=!1,new n["a"]({router:Dt,store:Nt,render:function(e){return e(u)}}).$mount("#app")},"582d":function(e,t,s){"use strict";s("2870")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"5e1b":function(e,t,s){"use strict";s("423c")},"5f61":function(e,t,s){},"64ae":function(e,t,s){},"66eb":function(e,t,s){"use strict";s("3f13")},"68fb":function(e,t,s){},"6fa3":function(e,t,s){},7525:function(e,t,s){"use strict";s("84ca")},"84ca":function(e,t,s){},"88d0":function(e,t,s){},"992c":function(e,t,s){"use strict";s("0ab4")},"9c0c":function(e,t,s){},"9d2c":function(e,t,s){"use strict";s("38e7")},"9f42":function(e,t,s){},ad0b:function(e,t,s){},b1f6:function(e,t,s){"use strict";s("eba1")},bb78:function(e,t,s){"use strict";s("6fa3")},dceb:function(e,t,s){"use strict";s("64ae")},df96:function(e,t,s){"use strict";s("88d0")},eba1:function(e,t,s){},ed01:function(e,t,s){"use strict";s("5f61")},f743:function(e,t,s){"use strict";s("68fb")}});
//# sourceMappingURL=app.5f12ed25.js.map